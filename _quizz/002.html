---
layout: quizz
title: "QUIZZ HTML"
---
<div class="containerquizz">

  <div id="quiz">

<h2 id="question"></h2>
        
<h3 id="score"></h3>

<div class="choices">
  <button id="guess0" class="btn">        
    <p id="choice0"></p>
  </button>

  <button id="guess1" class="btn">
    <p id="choice1"></p>
  </button>
    
  <button id="guess2" class="btn">
    <p id="choice2"></p>
  </button>
    
  <button id="guess3" class="btn">
    <p id="choice3"></p>
  </button>

  <h4 id="progress"></h4>

  </div>

</div>
</div>

<script>

class Question {
  constructor (text, choices, answer) {
    this.text = text;
    this.choices = choices;
    this.answer = answer;
  }
  isCorrectAnswer(choice) {
    return this.answer === choice;
  }
}

let questions = [
  new Question("Afin de faire un nouveau paragraphe, quelle(s) balise(s) faut-il utiliser ?", ["&lt;p&gt; &lt;/p&gt;", "&ltp/&gt;", "&lt;paragraphe&gt;", "&ltbr/&gt;"], "&lt;p&gt; &lt;/p&gt;"),
  new Question("Pour créer notre fichier HTML, que devons-nous mettre en début de page ?", ["&lt;css&gt; &lt;meta&gt; &lt;link&gt;", "&lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;meta&gt; &lt;link&gt; &lt;title&gt;&lt;/title&gt;", "&lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;img&gt;", "&lt;div&gt; &lt;friends&gt; &lt;tupeuxlefaire&gt; &lt;j'aimelesbalises&gt;"], "&lt;html&gt; &lt;head&gt;&lt;/head&gt; &lt;meta&gt; &lt;link&gt; &lt;title&gt;&lt;/title&gt;"),
  new Question("Quel titre sera le plus petit ?", ["h1","h2", "h3", "h4"], "h4"),
  new Question("Dans un tableau, quelle balise représente la colonne ?", ["&lt;tp&gt","&lt;tr&gt", "&lt;td&gt", "&lt;tq&gt"], "&lt;tr&gt")
];

class Quiz {
  constructor(questions) {
    this.score = 0;
    this.questions = questions;
    this.currentQuestionIndex = 0;
  }
  getCurrentQuestion() {
    return this.questions[this.currentQuestionIndex];
  }
  guess(answer) {
    if (this.getCurrentQuestion().isCorrectAnswer(answer)) {
      this.score++;
    }
    this.currentQuestionIndex++;
  }
  hasEnded() {
    return this.currentQuestionIndex >= this.questions.length;
  }
}


  // Regroup all  functions relative to the App Display
const display = {
  elementShown: function(id, text) {
    let element = document.getElementById(id);
    element.innerHTML = text;
  },
  endQuiz: function() {
    endQuizHTML = `
      <h2>Quizz terminé !</h2>
      <h3> Votre score est de : ${quiz.score} / ${quiz.questions.length}</h3>`;
    this.elementShown("quiz", endQuizHTML);
  },
  question: function() {
    this.elementShown("question", quiz.getCurrentQuestion().text);
  },
  choices: function() {
    let choices = quiz.getCurrentQuestion().choices;

    guessHandler = (id, guess) => {
      document.getElementById(id).onclick = function() {
        quiz.guess(guess);
        quizApp();
      }
    }
    // display choices and handle guess
    for(let i = 0; i < choices.length; i++) {
      this.elementShown("choice" + i, choices[i]);
      guessHandler("guess" + i, choices[i]);
    }
  },
  progress: function() {
    let currentQuestionNumber = quiz.currentQuestionIndex + 1;
    this.elementShown("progress", "Question " + currentQuestionNumber + " sur " + quiz.questions.length);
  },
};

// Game logic

const quizApp = () => {
  if (quiz.hasEnded()) {
    display.endQuiz();
  } else {
    display.question();
    display.choices();
    display.progress();
  } 
}

// Create Quiz
let quiz = new Quiz(questions);
quizApp();

    
</script>


